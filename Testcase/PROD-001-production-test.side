{
  "id": "prod-001-production",
  "version": "2.0",
  "name": "PROD-001 - Test Production",
  "url": "https://project1-full-final.onrender.com",
  "tests": [
    {
      "id": "test-catalog-full",
      "name": "PROD-001_Kiem_tra_danh_muc_san_pham",
      "commands": [
        {
          "id": "step-1",
          "comment": "üöÄ Step 1: Truy c·∫≠p trang web",
          "command": "open",
          "target": "/",
          "value": ""
        },
        {
          "id": "step-2",
          "comment": "‚è≥ ƒê·ª£i trang load (Render c√≥ th·ªÉ ch·∫≠m l·∫ßn ƒë·∫ßu)",
          "command": "pause",
          "target": "5000",
          "value": ""
        },
        {
          "id": "step-3",
          "comment": "ƒê·ª£i h·∫øt loading skeleton",
          "command": "waitForElementNotPresent",
          "target": "css=div.animate-pulse",
          "value": "30000"
        },
        {
          "id": "step-4",
          "comment": "‚úÖ Verify: Ti√™u ƒë·ªÅ Danh m·ª•c s·∫£n ph·∫©m",
          "command": "assertElementPresent",
          "target": "xpath=//div[contains(text(),'Danh m·ª•c s·∫£n ph·∫©m')]",
          "value": ""
        },
        {
          "id": "step-5",
          "comment": "üì¶ ƒê·∫øm s·ªë s·∫£n ph·∫©m",
          "command": "executeScript",
          "target": "return document.querySelectorAll('div.bg-white.border. rounded-xl.overflow-hidden. shadow-sm').length",
          "value": "totalProducts"
        },
        {
          "id": "step-6",
          "command": "echo",
          "target": "üì¶ T·ªïng s·ªë s·∫£n ph·∫©m tr√™n trang: ${totalProducts}",
          "value": ""
        },
        {
          "id": "step-7",
          "comment": "Verify c√≥ √≠t nh·∫•t 1 s·∫£n ph·∫©m",
          "command": "assert",
          "target": "totalProducts",
          "value": "^[1-9][0-9]*$"
        },
        {
          "id": "step-8",
          "comment": "üîç KI·ªÇM TRA T·∫§T C·∫¢ S·∫¢N PH·∫®M",
          "command": "executeScript",
          "target": "const products = document.querySelectorAll('div.bg-white. border.rounded-xl.overflow-hidden.shadow-sm'); let pass = 0; let fail = 0; let details = []; products.forEach((p, i) => { const img = p.querySelector('div.aspect-square img'); const name = p.querySelector('h3.font-medium.text-gray-900'); const price = p.querySelector('span.text-blue-600.font-bold'); let errors = []; let productName = name?.textContent?.trim() || 'Kh√¥ng c√≥ t√™n'; let productPrice = price?.textContent?.trim() || 'Kh√¥ng c√≥ gi√°'; let hasImage = img && img.src && img.src.length > 0; if (!hasImage) errors.push('Thi·∫øu ·∫£nh'); if (! name || ! name.textContent?. trim()) errors.push('Thi·∫øu t√™n'); if (!price || !price.textContent?.trim()) errors.push('Thi·∫øu gi√°'); else if (! price.textContent. includes('‚Ç´') && price.textContent !== 'Li√™n h·ªá') errors.push('Gi√° sai format'); if (errors.length === 0) { pass++; details.push('‚úÖ SP ' + (i+1) + ': ' + productName. substring(0,30) + '... | ' + productPrice); } else { fail++; details.push('‚ùå SP ' + (i+1) + ': ' + errors.join(', ')); } }); console.log('='.repeat(60)); console.log('üìä K·∫æT QU·∫¢ KI·ªÇM TRA S·∫¢N PH·∫®M'); console.log('='.repeat(60)); details.forEach(d => console.log(d)); console.log('='.repeat(60)); console.log('T·ªïng: ' + products.length + ' | Pass: ' + pass + ' | Fail: ' + fail); console.log('T·ª∑ l·ªá: ' + ((pass/products.length)*100).toFixed(1) + '%'); console.log('='.repeat(60)); return JSON.stringify({ total: products.length, pass: pass, fail: fail, rate: ((pass/products.length)*100).toFixed(1) + '%' });",
          "value": "checkResult"
        },
        {
          "id": "step-9",
          "command": "echo",
          "target": "üìä K·∫øt qu·∫£: ${checkResult}",
          "value": ""
        },
        {
          "id": "step-10",
          "comment": "L·∫•y s·ªë l·ªói",
          "command": "executeScript",
          "target": "return JSON.parse(arguments[0]). fail;",
          "value": "failCount"
        },
        {
          "id": "step-11",
          "command": "echo",
          "target": "‚ùå S·ªë s·∫£n ph·∫©m l·ªói: ${failCount}",
          "value": ""
        },
        {
          "id": "step-12",
          "comment": "‚úÖ ASSERT: Kh√¥ng c√≥ l·ªói",
          "command": "assert",
          "target": "failCount",
          "value": "^0$"
        },
        {
          "id": "step-13",
          "command": "echo",
          "target": "üéâ TEST PASSED: T·∫•t c·∫£ s·∫£n ph·∫©m hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß ·∫¢NH, T√äN, GI√Å",
          "value": ""
        }
      ]
    },
    {
      "id": "test-product-details",
      "name": "PROD-001_In_chi_tiet_san_pham",
      "commands": [
        {
          "id": "open",
          "command": "open",
          "target": "/",
          "value": ""
        },
        {
          "id": "wait",
          "command": "pause",
          "target": "5000",
          "value": ""
        },
        {
          "id": "wait-load",
          "command": "waitForElementNotPresent",
          "target": "css=div.animate-pulse",
          "value": "30000"
        },
        {
          "id": "print-all",
          "comment": "üìã In chi ti·∫øt t·ª´ng s·∫£n ph·∫©m ra Console",
          "command": "executeScript",
          "target": "const products = document.querySelectorAll('div.bg-white.border.rounded-xl.overflow-hidden.shadow-sm'); console.log(''); console.log('‚ïî' + '‚ïê'.repeat(70) + '‚ïó'); console. log('‚ïë' + ' '. repeat(20) + 'üìã CHI TI·∫æT S·∫¢N PH·∫®M' + ' '.repeat(29) + '‚ïë'); console.log('‚ïö' + '‚ïê'.repeat(70) + '‚ïù'); console. log(''); products.forEach((p, i) => { const img = p.querySelector('div.aspect-square img'); const name = p.querySelector('h3.font-medium.text-gray-900'); const price = p. querySelector('span.text-blue-600.font-bold'); const brand = p.querySelector('span.bg-gray-100'); const stock = p.querySelector('span.text-gray-400'); console.log('‚îå' + '‚îÄ'.repeat(50) + '‚îê'); console. log('‚îÇ üì¶ S·∫£n ph·∫©m #' + (i+1) + ' '. repeat(35 - String(i+1).length) + '‚îÇ'); console.log('‚îú' + '‚îÄ'.repeat(50) + '‚î§'); console.log('‚îÇ T√™n:   ' + (name?.textContent?.trim()?.substring(0,40) || 'N/A')); console.log('‚îÇ Gi√°:   ' + (price?.textContent?.trim() || 'N/A')); console.log('‚îÇ Brand: ' + (brand?.textContent?.trim() || 'N/A')); console.log('‚îÇ Kho:   ' + (stock?. textContent?.trim() || 'N/A')); console.log('‚îÇ ·∫¢nh:   ' + (img?.src ?  '‚úÖ C√≥' : '‚ùå Kh√¥ng')); const hasError = !img?.src || !name?.textContent?.trim() || ! price?.textContent?.trim(); console.log('‚îÇ Status: ' + (hasError ? '‚ùå FAIL' : '‚úÖ PASS')); console.log('‚îî' + '‚îÄ'.repeat(50) + '‚îò'); console.log(''); }); return 'ƒê√£ in ' + products.length + ' s·∫£n ph·∫©m ra Console';",
          "value": "printResult"
        },
        {
          "id": "echo-result",
          "command": "echo",
          "target": "${printResult} - M·ªü DevTools (F12) > Console ƒë·ªÉ xem",
          "value": ""
        }
      ]
    },
    {
      "id": "test-pagination",
      "name": "PROD-001_Kiem_tra_phan_trang",
      "commands": [
        {
          "id": "open",
          "command": "open",
          "target": "/",
          "value": ""
        },
        {
          "id": "wait-initial",
          "command": "pause",
          "target": "5000",
          "value": ""
        },
        {
          "id": "wait-load",
          "command": "waitForElementNotPresent",
          "target": "css=div.animate-pulse",
          "value": "30000"
        },
        {
          "id": "init",
          "command": "executeScript",
          "target": "window.pageResults = { pages: [], totalProducts: 0, totalPass: 0, totalFail: 0 }; return 'Initialized';",
          "value": ""
        },
        {
          "id": "check-page-1",
          "comment": "üìÑ Ki·ªÉm tra Trang 1",
          "command": "executeScript",
          "target": "const products = document.querySelectorAll('div. bg-white.border.rounded-xl.overflow-hidden.shadow-sm'); let pass = 0; let fail = 0; products.forEach((p) => { const img = p.querySelector('div.aspect-square img'); const name = p.querySelector('h3'); const price = p.querySelector('span. text-blue-600'); if (img?. src && name?.textContent?.trim() && price?.textContent?.trim()) pass++; else fail++; }); window.pageResults.pages. push({ page: 1, total: products.length, pass, fail }); window.pageResults.totalProducts += products.length; window.pageResults.totalPass += pass; window. pageResults.totalFail += fail; return 'Trang 1: ' + pass + '/' + products.length + ' PASS';",
          "value": "page1"
        },
        {
          "id": "echo-page1",
          "command": "echo",
          "target": "üìÑ ${page1}",
          "value": ""
        },
        {
          "id": "check-has-next",
          "command": "storeXpathCount",
          "target": "xpath=//button[contains(text(),'Sau') and not(@disabled)]",
          "value": "hasNext"
        },
        {
          "id": "if-next",
          "command": "if",
          "target": "${hasNext} > 0",
          "value": ""
        },
        {
          "id": "click-next",
          "command": "click",
          "target": "xpath=//button[contains(text(),'Sau')]",
          "value": ""
        },
        {
          "id": "wait-page2",
          "command": "pause",
          "target": "2000",
          "value": ""
        },
        {
          "id": "check-page-2",
          "command": "executeScript",
          "target": "const products = document. querySelectorAll('div.bg-white.border.rounded-xl.overflow-hidden.shadow-sm'); let pass = 0; let fail = 0; products.forEach((p) => { const img = p.querySelector('div.aspect-square img'); const name = p. querySelector('h3'); const price = p.querySelector('span.text-blue-600'); if (img?. src && name?.textContent?.trim() && price?.textContent?.trim()) pass++; else fail++; }); const pageNum = window.pageResults.pages. length + 1; window.pageResults. pages.push({ page: pageNum, total: products.length, pass, fail }); window.pageResults.totalProducts += products.length; window.pageResults.totalPass += pass; window.pageResults.totalFail += fail; return 'Trang ' + pageNum + ': ' + pass + '/' + products.length + ' PASS';",
          "value": "page2"
        },
        {
          "id": "echo-page2",
          "command": "echo",
          "target": "üìÑ ${page2}",
          "value": ""
        },
        {
          "id": "end-if",
          "command": "end",
          "target": "",
          "value": ""
        },
        {
          "id": "summary",
          "command": "executeScript",
          "target": "const r = window.pageResults; console.log(''); console.log('‚ïê'.repeat(50)); console.log('üìä T·ªîNG K·∫æT KI·ªÇM TRA PH√ÇN TRANG'); console.log('‚ïê'.repeat(50)); console. log('S·ªë trang ƒë√£ ki·ªÉm tra: ' + r. pages.length); console.log('T·ªïng s·∫£n ph·∫©m: ' + r.totalProducts); console.log('Pass: ' + r.totalPass); console.log('Fail: ' + r.totalFail); console.log('T·ª∑ l·ªá: ' + ((r.totalPass/r.totalProducts)*100).toFixed(1) + '%'); console.log('‚ïê'.repeat(50)); return 'T·ªïng: ' + r.totalProducts + ' SP | Pass: ' + r.totalPass + ' | Fail: ' + r.totalFail + ' | Rate: ' + ((r.totalPass/r.totalProducts)*100). toFixed(1) + '%';",
          "value": "finalSummary"
        },
        {
          "id": "echo-summary",
          "command": "echo",
          "target": "üìä ${finalSummary}",
          "value": ""
        },
        {
          "id": "get-fail",
          "command": "executeScript",
          "target": "return window.pageResults.totalFail;",
          "value": "totalFail"
        },
        {
          "id": "assert-pass",
          "command": "assert",
          "target": "totalFail",
          "value": "^0$"
        },
        {
          "id": "done",
          "command": "echo",
          "target": "üéâ TEST PASSED: T·∫•t c·∫£ trang ƒë·ªÅu hi·ªÉn th·ªã s·∫£n ph·∫©m ƒë·∫ßy ƒë·ªß",
          "value": ""
        }
      ]
    },
    {
      "id": "test-image-validation",
      "name": "PROD-001_Kiem_tra_anh_san_pham",
      "commands": [
        {
          "id": "open",
          "command": "open",
          "target": "/",
          "value": ""
        },
        {
          "id": "wait",
          "command": "pause",
          "target": "5000",
          "value": ""
        },
        {
          "id": "wait-load",
          "command": "waitForElementNotPresent",
          "target": "css=div.animate-pulse",
          "value": "30000"
        },
        {
          "id": "check-images",
          "comment": "üñºÔ∏è Ki·ªÉm tra chi ti·∫øt ·∫¢NH",
          "command": "executeScript",
          "target": "const products = document. querySelectorAll('div.bg-white.border.rounded-xl.overflow-hidden.shadow-sm'); let valid = 0; let placeholder = 0; let missing = 0; let broken = 0; console.log(''); console.log('‚ïê'.repeat(50)); console.log('üñºÔ∏è KI·ªÇM TRA CHI TI·∫æT ·∫¢NH S·∫¢N PH·∫®M'); console.log('‚ïê'.repeat(50)); products.forEach((p, i) => { const img = p.querySelector('div.aspect-square img'); const name = p. querySelector('h3')?.textContent?.trim()?.substring(0,25) || 'SP ' + (i+1); if (!img) { missing++; console.log('‚ùå ' + name + ': Kh√¥ng c√≥ th·∫ª img'); } else if (!img.src || img.src === '') { missing++; console.log('‚ùå ' + name + ': Src r·ªóng'); } else if (img.src. includes('placehold') || img.src.includes('No+Image') || img.src.includes('No_Image')) { placeholder++; console.log('‚ö†Ô∏è ' + name + ': ƒêang d√πng placeholder'); } else { valid++; console.log('‚úÖ ' + name + ': OK'); } }); console.log('‚ïê'.repeat(50)); console. log('T·ªïng: ' + products.length + ' | Valid: ' + valid + ' | Placeholder: ' + placeholder + ' | Missing: ' + missing); console.log('‚ïê'.repeat(50)); return JSON.stringify({ total: products.length, valid, placeholder, missing });",
          "value": "imageResult"
        },
        {
          "id": "echo-result",
          "command": "echo",
          "target": "üñºÔ∏è K·∫øt qu·∫£ ki·ªÉm tra ·∫£nh: ${imageResult}",
          "value": ""
        },
        {
          "id": "get-missing",
          "command": "executeScript",
          "target": "return JSON.parse(arguments[0]).missing;",
          "value": "missingCount"
        },
        {
          "id": "assert-no-missing",
          "comment": "Kh√¥ng ƒë∆∞·ª£c thi·∫øu ·∫£nh",
          "command": "assert",
          "target": "missingCount",
          "value": "^0$"
        }
      ]
    },
    {
      "id": "test-price-format",
      "name": "PROD-001_Kiem_tra_format_gia",
      "commands": [
        {
          "id": "open",
          "command": "open",
          "target": "/",
          "value": ""
        },
        {
          "id": "wait",
          "command": "pause",
          "target": "5000",
          "value": ""
        },
        {
          "id": "wait-load",
          "command": "waitForElementNotPresent",
          "target": "css=div.animate-pulse",
          "value": "30000"
        },
        {
          "id": "check-prices",
          "comment": "üí∞ Ki·ªÉm tra format GI√Å",
          "command": "executeScript",
          "target": "const products = document.querySelectorAll('div. bg-white.border.rounded-xl.overflow-hidden.shadow-sm'); let validCurrency = 0; let validContact = 0; let invalid = 0; let missing = 0; console.log(''); console.log('‚ïê'.repeat(50)); console. log('üí∞ KI·ªÇM TRA FORMAT GI√Å S·∫¢N PH·∫®M'); console.log('‚ïê'.repeat(50)); products.forEach((p, i) => { const price = p.querySelector('span. text-blue-600. font-bold'); const name = p.querySelector('h3')?.textContent?.trim()?.substring(0,25) || 'SP ' + (i+1); if (!price || ! price.textContent?. trim()) { missing++; console. log('‚ùå ' + name + ': Kh√¥ng c√≥ gi√°'); } else { const priceText = price.textContent.trim(); if (priceText.includes('‚Ç´')) { validCurrency++; console. log('‚úÖ ' + name + ': ' + priceText); } else if (priceText === 'Li√™n h·ªá') { validContact++; console. log('‚úÖ ' + name + ': Li√™n h·ªá'); } else { invalid++; console.log('‚ùå ' + name + ': Format sai - ' + priceText); } } }); console.log('‚ïê'. repeat(50)); console.log('T·ªïng: ' + products.length); console.log('C√≥ gi√° (‚Ç´): ' + validCurrency); console.log('Li√™n h·ªá: ' + validContact); console.log('Sai format: ' + invalid); console.log('Thi·∫øu gi√°: ' + missing); console. log('‚ïê'.repeat(50)); return JSON.stringify({ total: products.length, validCurrency, validContact, invalid, missing });",
          "value": "priceResult"
        },
        {
          "id": "echo-result",
          "command": "echo",
          "target": "üí∞ K·∫øt qu·∫£ ki·ªÉm tra gi√°: ${priceResult}",
          "value": ""
        },
        {
          "id": "get-errors",
          "command": "executeScript",
          "target": "const r = JSON.parse(arguments[0]); return r.invalid + r.missing;",
          "value": "priceErrors"
        },
        {
          "id": "assert-valid",
          "command": "assert",
          "target": "priceErrors",
          "value": "^0$"
        }
      ]
    }
  ],
  "suites": [
    {
      "id": "suite-full",
      "name": "üß™ PROD-001 Full Test Suite",
      "tests": [
        "test-catalog-full",
        "test-product-details",
        "test-pagination",
        "test-image-validation",
        "test-price-format"
      ]
    }
  ],
  "urls": ["https://project1-full-final.onrender.com"]
}